import darc
from optparse import OptionParser

features = ['Root'
,'Info'
,'FirmwareVerMajor'
,'FirmwareVerMinor'
,'FirmwareVerBuild'
,'SensorType'
,'Bayer'
,'Mono'
,'SensorBits'
,'DeviceVendorName'
,'DeviceModelName'
,'DeviceFirmwareVersion'
,'DeviceID'
,'DevicePartNumber'
,'DeviceScanType'
,'Areascan'
,'GigE'
,'StreamBytesPerSecond'
,'BandwidthControlMode'
,'Both'
,'SCPD'
,'StreamBytesPerSecond'
,'StreamHold'
,'StreamHoldEnable'
,'On'
,'Off'
,'StreamHoldCapacity'
,'Timestamp'
,'GevTimestampTickFrequency'
,'GevTimestampControlLatch'
,'GevTimestampControlReset'
,'GevTimestampValue'
,'GevSCPSPacketSize'
,'ChunkModeActive'
,'PayloadSize'
,'NonImagePayloadSize'
,'StreamFrameRateConstrain'
,'Acquisition'
,'Trigger'
,'TriggerSelector'
,'AcquisitionRecord'
,'AcquisitionEnd'
,'AcquisitionStart'
,'FrameStart'
,'TriggerMode'
,'On'
,'Off'
,'TriggerSoftware'
,'TriggerSource'
,'Software'
,'FixedRate'
,'Line2'
,'Line1'
,'Freerun'
,'TriggerActivation'
,'LevelLow'
,'LevelHigh'
,'AnyEdge'
,'FallingEdge'
,'RisingEdge'
,'TriggerOverlap'
,'PreviousFrame'
,'Off'
,'TriggerDelayAbs'
,'AcquisitionStart'
,'AcquisitionStop'
,'AcquisitionAbort'
,'AcquisitionMode'
,'Recorder'
,'MultiFrame'
,'SingleFrame'
,'Continuous'
,'AcquisitionFrameCount'
,'AcquisitionFrameRateAbs'
,'AcquisitionFrameRateLimit'
,'RecorderPreEventCount'
,'ImageMode'
,'SensorWidth'
,'SensorHeight'
,'BinningHorizontal'
,'BinningVertical'
,'DecimationHorizontal'
,'DecimationVertical'
,'ImageFormat'
,'WidthMax'
,'HeightMax'
,'PixelFormat'
,'Mono12Packed'
,'Mono12'
,'Mono8'
,'Width'
,'Height'
,'OffsetX'
,'OffsetY'
,'ImageSize'
,'Controls'
,'DSPSubregion'
,'DSPSubregionLeft'
,'DSPSubregionTop'
,'DSPSubregionRight'
,'DSPSubregionBottom'
,'Exposure'
,'ExposureMode'
,'Timed'
,'ExposureTimeAbs'
,'ExposureAuto'
,'other'
,'Continuous'
,'Once'
,'Off'
,'ExposureAutoControl'
,'ExposureAutoTarget'
,'ExposureAutoAlg'
,'FitRange'
,'Mean'
,'ExposureAutoMin'
,'ExposureAutoMax'
,'ExposureAutoRate'
,'ExposureAutoOutliers'
,'ExposureAutoAdjustTol'
,'GainControl'
,'GainSelector'
,'All'
,'Gain'
,'GainAuto'
,'Continuous'
,'Once'
,'Off'
,'GainAutoControl'
,'GainAutoTarget'
,'GainAutoMin'
,'GainAutoMax'
,'GainAutoRate'
,'GainAutoOutliers'
,'GainAutoAdjustTol'
,'BlackLevelControl'
,'BlackLevelSelector'
,'All'
,'BlackLevel'
,'Gamma'
,'Whitebalance'
,'BalanceWhiteAutoControl'
,'Iris'
,'IrisMode'
,'VideoClose'
,'VideoOpen'
,'Video'
,'Disabled'
,'IrisAutoTarget'
,'IrisVideoLevel'
,'IrisVideoLevelMin'
,'IrisVideoLevelMax'
,'DefectMask'
,'SubstrateVoltage'
,'ColorTransformationControl'
,'LUTControl'
,'LUTSelector'
,'LUT3'
,'LUT2'
,'LUT1'
,'LUTInfo'
,'LUTBitDepthIn'
,'LUTBitDepthOut'
,'LUTAddress'
,'LUTSizeBytes'
,'LUTMode'
,'Luminance'
,'LUTEnable'
,'LUTIndex'
,'LUTValue'
,'LUTLoad'
,'LUTSave'
,'IO'
,'SyncIn'
,'SyncInLevels'
,'SyncInSelector'
,'SyncIn2'
,'SyncIn1'
,'SyncInGlitchFilter'
,'SyncOut'
,'SyncOutLevels'
,'SyncOutSelector'
,'SyncOut2'
,'SyncOut1'
,'SyncOutSource'
,'Strobe1'
,'LineIn2'
,'LineIn1'
,'Acquiring'
,'Imaging'
,'FrameReadout'
,'Exposing'
,'FrameTrigger'
,'FrameTriggerReady'
,'AcquisitionTriggerReady'
,'GPO'
,'SyncOutPolarity'
,'Invert'
,'Normal'
,'Strobe'
,'StrobeSource'
,'LineIn2'
,'LineIn1'
,'Acquiring'
,'FrameReadout'
,'Exposing'
,'FrameTrigger'
,'FrameTriggerReady'
,'AcquisitionTriggerReady'
,'StrobeDurationMode'
,'Controlled'
,'Source'
,'StrobeDelay'
,'StrobeDuration'
,'EventControl'
,'EventSelector'
,'Line4FallingEdge'
,'Line4RisingEdge'
,'Line3FallingEdge'
,'Line3RisingEdge'
,'Line2FallingEdge'
,'Line2RisingEdge'
,'Line1FallingEdge'
,'Line1RisingEdge'
,'AcquisitionRecordTrigger'
,'ExposureEnd'
,'FrameTrigger'
,'AcquisitionEnd'
,'AcquisitionStart'
,'EventNotification'
,'On'
,'Off'
,'EventsEnable1'
,'EventID'
,'EventAcquisitionStart'
,'EventAcquisitionEnd'
,'EventFrameTrigger'
,'EventExposureEnd'
,'EventAcquisitionRecordTrigger'
,'EventLine1RisingEdge'
,'EventLine1FallingEdge'
,'EventLine2RisingEdge'
,'EventLine2FallingEdge'
,'EventLine3RisingEdge'
,'EventLine3FallingEdge'
,'EventLine4RisingEdge'
,'EventLine4FallingEdge'
,'EventOverflow'
,'EventError'
,'SavedUserSets'
,'UserSetSelector'
,'UserSet5'
,'UserSet4'
,'UserSet3'
,'UserSet2'
,'UserSet1'
,'Default'
,'UserSetLoad'
,'UserSetSave'
,'UserSetDefaultSelector'
,'UserSet5'
,'UserSet4'
,'UserSet3'
,'UserSet2'
,'UserSet1'
,'Default']


if __name__ == '__main__':
    parse = OptionParser()
    parse.add_option('-c', '--camera', dest='camera', type='str', help='Camera num: 0,1,2,3 etc', default="0")
    parse.add_option('-p', '--prefix', dest='prefix', type='str', help='Camera prefix: default both', default="both")

    (options , argv) = parse.parse_args()
    c = darc.Control(options.prefix)
    count = 0
    for feat in features:
        cmd = "?%s:%s" % (options.camera, feat)
        c.Set("aravisGet", cmd)
        f = c.Get("aravisGet")
        if f.__contains__('Error') or f.__contains__("(null"):
            pass
        else:
            print "%s => %s" % (feat, f)
            count += 1
    print "Total Features found: %d" % count
